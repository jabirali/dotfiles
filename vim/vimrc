" vim: fdm=marker shiftwidth=2

" Built-in settings {{{
  set mouse=a
  set termguicolors
  set clipboard=unnamed

  set noshowcmd
  set noshowmode
  set signcolumn=no

  set nowrap
  set linebreak
  set breakindent

  set smarttab
  set expandtab
  set shiftwidth=4

  set splitright
  set splitbelow

  set shortmess+=I
  set fillchars+=eob:\ ,
  set virtualedit=block
  set wildoptions=pum
  set tildeop

  packadd! matchit
" }}}

" Package configuration {{{
  let g:ale_floating_preview = 1
  let g:ale_floating_window_border = ['│', '─', '┌', '┐', '┘', '└', '│', '─']

  let g:FoldText_info = 0

  let g:netrw_banner = 0

  let g:UltiSnipsExpandTrigger = "<tab>"
  let g:UltiSnipsJumpForwardTrigger = "<tab>"
  let g:UltiSnipsJumpBackwardTrigger = "<S-tab>"

  let g:wiki_root = '/Users/jabirali/iCloud/Notes'
  let g:wiki_zotero_root = '/Users/jabirali/Zotero'
  let g:wiki_filetypes = ['md']
  let g:wiki_link_extension = '.md'
  let g:wiki_mappings_local_journal = 
  \ {
  \  '<plug>(wiki-journal-prev)': '[f',
  \  '<plug>(wiki-journal-next)': ']f',
  \ }
  let g:wiki_journal = 
  \ {
  \   'name': '',
  \   'frequency': 'daily',
  \   'date_format': {
  \     'daily': '%Y-%m-%d',
  \     'weekly': '%Y-W%W',
  \   },
  \ }
" }}}

" Package management {{{
  call plug#begin('~/.cache/vim/plug.vim')

  " Keybindings
  Plug 'tpope/vim-rsi'
  Plug 'tpope/vim-surround'
  Plug 'tpope/vim-commentary'
  Plug 'tpope/vim-unimpaired'
  Plug 'tpope/vim-speeddating'
  Plug 'tpope/vim-repeat'
  Plug 'kana/vim-textobj-user'
  Plug 'kana/vim-textobj-entire'
  Plug 'kana/vim-textobj-line'
  Plug 'kana/vim-textobj-indent'
  Plug 'kana/vim-textobj-syntax'
  Plug 'wellle/targets.vim'
  Plug 'rhysd/clever-f.vim'
  Plug 'bronson/vim-visual-star-search'

  " IDE features
  Plug 'dense-analysis/ale'
  Plug 'junegunn/fzf'
  Plug 'junegunn/fzf.vim'
  Plug 'sirver/ultisnips'

  " Language support
  Plug 'kalekundert/vim-coiled-snake'
  Plug 'lervag/vimtex'

  " Aesthetics
  Plug 'jeffkreeftmeijer/vim-dim'
  Plug 'jrudess/vim-foldtext'
  Plug 'vim/colorschemes'
  Plug 'dracula/vim'

  " Miscellaneous
  Plug 'lervag/wiki.vim'
  Plug 'sunaku/tmux-navigate'

  call plug#end()
" }}}

" Keybindings {{{
  " Leader key
  nnoremap <space> <nop>
  let mapleader=" "
  let maplocalleader=","

  " Fuzzy finder
  nnoremap <leader>b :Buffers<cr>
  nnoremap <leader>f :Files<cr>
  nnoremap <leader>s :Snippets<cr>
  nnoremap <leader>h :Helptags<cr>
  nnoremap <leader>' :Marks<cr>
  nnoremap <leader>/ :RG<cr>

  " Folding
  nnoremap <tab> za
  nnoremap <S-tab> zM

  " Surround
  nmap s ys
  vmap s S

  " Greek and math
  inoremap ;  <c-k>*
  inoremap ;; <c-v>;
  inoremap ;s <c-k>s*
" }}}

" Colorscheme {{{
  colorscheme dracula
  highlight! link Folded Comment
" }}}
