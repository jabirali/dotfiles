" vim: fdm=marker shiftwidth=2

" Built-in settings {{{
  set mouse=a

  set noshowcmd
  set noshowmode
  set signcolumn=no

  set shortmess+=I
  set fillchars+=eob:\ ,

  set nowrap
  set linebreak
  set breakindent

  set smarttab
  set expandtab
  set shiftwidth=4

  set splitright
  set splitbelow

  packadd! matchit
" }}}

" Package installation {{{
  call plug#begin('~/.cache/vim/plug.vim')

  " Keybindings
  Plug 'tpope/vim-rsi'
  Plug 'tpope/vim-surround'
  Plug 'tpope/vim-commentary'
  Plug 'tpope/vim-unimpaired'
  Plug 'tpope/vim-speeddating'
  Plug 'tpope/vim-repeat'
  Plug 'kana/vim-textobj-user'
  Plug 'kana/vim-textobj-entire'
  Plug 'kana/vim-textobj-line'
  Plug 'kana/vim-textobj-indent'
  Plug 'kana/vim-textobj-syntax'
  Plug 'wellle/targets.vim'
  Plug 'rhysd/clever-f.vim'
  Plug 'bronson/vim-visual-star-search'

  " IDE features
  Plug 'dense-analysis/ale'
  Plug 'junegunn/fzf'
  Plug 'junegunn/fzf.vim'
  Plug 'sirver/ultisnips'

  " Language support
  Plug 'kalekundert/vim-coiled-snake'
  Plug 'lervag/vimtex'

  " Aesthetics
  Plug 'jeffkreeftmeijer/vim-dim'
  Plug 'jrudess/vim-foldtext'
  Plug 'vim/colorschemes'
  Plug 'dracula/vim'

  " Miscellaneous
  Plug 'sunaku/tmux-navigate'

  call plug#end()
" }}}

" Package configuration {{{
  " Show docstrings as boxed pop-ups.
  let g:ale_floating_preview = 1
  let g:ale_floating_window_border = ['│', '─', '┌', '┐', '┘', '└', '│', '─']

  " Minimalist foldtext.
  let g:FoldText_info=0
" }}}

" Keybindings {{{
  " Leader key
  let mapleader=" "
  nnoremap <space> <nop>

  " Fuzzy finder
  nnoremap <leader>b :Buffers<cr>
  nnoremap <leader>f :Files<cr>
  nnoremap <leader>s :Snippets<cr>
  nnoremap <leader>h :Helptags<cr>
  nnoremap <leader>' :Marks<cr>
  nnoremap <leader>/ :RG<cr>

  " Folding
  nnoremap <tab> za
  nnoremap <S-tab> zM

  " Surround
  nmap s ys
  vmap s S
" }}}

" Colorscheme {{{
  " Base colorscheme.
  set termguicolors
  colorscheme dracula

  " Custom highlighting.
  highlight! link Folded Comment
" }}}
