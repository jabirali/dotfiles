#!/bin/sh

# Dotfiles should be placed here.
cd ~/.config || exit

# SSH requires this location and user-only access.
mkdir -p ~/.ssh
ln -sf ~/.config/ssh/config ~/.ssh/config
chmod  600 ~/.ssh/config

# `homebrew-file` reads ~/.config/brewfile/Brewfile,
# while the bundled `brew bundle` reads ~/.Brewfile.
ln -sf ~/.config/brewfile/Brewfile ~/.Brewfile

# Share Git ignore patterns with `fd`, `rg`, and `exa`.
# The last of these does not support ~/.config/ignore.
ln -sf ~/.config/git/ignore ~/.gitignore

# Link not required after v3.1a:
# https://github.com/tmux/tmux/commit/15d7e564ddab575dd3ac803989cc99ac13b57198
ln -sf ~/.config/tmux/tmux.conf ~/.tmux.conf

# Config file for MacVim and GVim.
ln -sf ~/.config/gvimrc ~/.gvimrc

# Initialize plugin submodules.
git submodule init
git submodule update
