#!/bin/sh

# This script is run as `brew sync` from the command line, and ensures
# that packages in `~/.config/Brewfile` are installed and up to date.

if [[ "$(uname)" == "Darwin" ]]; then
	echo ":: Updating XCode tools..."
	xcode-select --install &>/dev/null && exit 1
fi

echo ":: Updating HomeBrew index..."
brew update || exit 1

echo ":: Updating HomeBrew apps..."
brew upgrade || exit 1

echo ":: Syncing HomeBrew apps..."
brew bundle --file=~/.config/Brewfile || exit 1
