#!/bin/sh

# Common settings on Linux and macOS.
cd `dirname "$0"`
source setup-common

# Ensure that the Sublime Text 3 config is synced on macOS.
ln -sf ~/.config/subl ~/Library/ApplicationSupport/Sublime\ Text\ 3/Packages/User

# This must be disabled for apps using Vim keybindings to work.
defaults write -g ApplePressAndHoldEnabled -bool false

# Global: Custom keybinding for entering full screen. Not all apps have this...
defaults write -g NSUserKeyEquivalents -dict-add 'Full Screen' '@^f'
defaults write -g NSUserKeyEquivalents -dict-add 'Toggle Full Screen' '@^f'
defaults write -g NSUserKeyEquivalents -dict-add 'Enter Full Screen' '@^f'
defaults write -g NSUserKeyEquivalents -dict-add 'Exit Full Screen' '@^f'

# Dock: Hide it, requiring Launchpad (F4) or an hour of hovering to open.
defaults write com.apple.dock autohide -bool true && killall Dock
defaults write com.apple.dock autohide-delay -float 3600 && killall Dock
defaults write com.apple.dock no-bouncing -bool TRUE && killall Dock
