#!/bin/sh

# Common settings on Linux and macOS.
cd `dirname "$0"`
source setup-common

# Ensure that the Sublime Text 3 config is synced on macOS.
ln -sf ~/.config/subl ~/Library/ApplicationSupport/Sublime\ Text\ 3/Packages/User

# This must be disabled for apps using Vim keybindings to work.
defaults write -g ApplePressAndHoldEnabled -bool false

# Global: Custom keybinding for entering full screen. Not all apps have this...
defaults write -g NSUserKeyEquivalents -dict-add 'Full Screen' '@^f'
defaults write -g NSUserKeyEquivalents -dict-add 'Toggle Full Screen' '@^f'
defaults write -g NSUserKeyEquivalents -dict-add 'Enter Full Screen' '@^f'
defaults write -g NSUserKeyEquivalents -dict-add 'Exit Full Screen' '@^f'

# Dock: Single-app mode with fixed icon size.
defaults write com.apple.dock single-app -bool true
defaults write com.apple.dock tilesize -integer 40

# Launchpad: Icon grid more similar to iPhone/iPad.
defaults write com.apple.dock springboard-rows -int 3                                                                                                                                              (base)
defaults write com.apple.dock springboard-columns -int 6

# Restart services affected by the above settings.
killall Dock
